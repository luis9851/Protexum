{"version":3,"file":"src_app_registroprestamos_registroprestamos_module_ts.js","mappings":"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","sources":["./src/app/registroprestamos/registroprestamos-routing.module.ts","./src/app/registroprestamos/registroprestamos.module.ts","./src/app/registroprestamos/registroprestamos.page.ts","./src/app/registroprestamos/registroprestamos.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegistroprestamosPage } from './registroprestamos.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegistroprestamosPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegistroprestamosPageRoutingModule {}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule ,ReactiveFormsModule} from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegistroprestamosPageRoutingModule } from './registroprestamos-routing.module';\r\n\r\nimport { RegistroprestamosPage } from './registroprestamos.page';\r\nimport { ComponentsModule } from '../components/components.module';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RegistroprestamosPageRoutingModule,\r\n    ComponentsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [RegistroprestamosPage]\r\n})\r\nexport class RegistroprestamosPageModule {}","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { BorrowingService } from '../service/borrowing.service';\r\nimport {FormBuilder, FormControl, FormGroup , Validators  } from '@angular/forms'\r\n\r\n\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-registroprestamos',\r\n  templateUrl: './registroprestamos.page.html',\r\n  styleUrls: ['./registroprestamos.page.scss'],\r\n})\r\nexport class RegistroprestamosPage implements OnInit {\r\n\r\n  id: string;\r\n  // variables para editar prestamos\r\nborrowingForm: FormGroup\r\n  constructor(private servicio: BorrowingService,  private router: Router,\r\n    private toast: ToastController,  private activatedRoute: ActivatedRoute, private fb: FormBuilder) {\r\n      this.borrowingForm =  this.fb.group({\r\n        nombre: ['', Validators.required],\r\n        montoprestado: ['', Validators.required],\r\n        fechadeprestamo: ['', Validators.required],\r\n        numerodepagos: ['', Validators.required],\r\n        \r\n      })\r\n\r\n      this.activatedRoute.params.subscribe( params => {\r\n        this.id = params['id'];\r\n        \r\n      \r\n      })\r\n     }\r\n\r\n  ngOnInit() {\r\n    this.consultardatos()\r\n  }\r\n\r\n  consultardatos(){\r\n\r\n    if(this.id !== null){\r\n     \r\n      this.servicio.obteneruser(this.id).subscribe( data => {\r\n\r\n         console.log(data.user)\r\n     let user = data.user;\r\n   \r\n     \r\n       this.borrowingForm.patchValue(user)\r\n     \r\n       \r\n       \r\n      })\r\n   }\r\n\r\n\r\n }\r\n  Register(){\r\n  \r\n     if(this.borrowingForm.value.nombre == \"\" || this.borrowingForm.value.montoprestado == \"\" || this.borrowingForm.value.fechadeprestamo == \"\"  \r\n     ){\r\n       this.FaltanDatos()\r\n     } \r\n     else { \r\n   // los datos de el elemento\r\n   this.servicio.registrar(this.id,this.borrowingForm.value).subscribe( (res => {\r\n   console.log(res.dataPrestamo.id)\r\n   this.exito()\r\n   this.agregaridDeServicioausuario(res.dataPrestamo.id)\r\n   this.router.navigate(['/main'])\r\n       \r\n   }))\r\n  \r\n  }\r\n  }\r\n\r\n  agregaridDeServicioausuario(idprestamo){\r\n   \r\n    this.servicio.actualizar_usuarioid(this.id, idprestamo).subscribe((res => {    \r\n      console.log(res)\r\n\r\n    } ) )\r\n    \r\n    }\r\n\r\n    async exito(){\r\n      const toast = await this.toast.create({\r\n        message: \"El registro fue exitoso\",\r\n        duration: 2000,\r\n        position: \"bottom\"\r\n      });\r\n      toast.present()\r\n    } \r\n     \r\n    async FaltanDatos(){\r\n      const toast = await this.toast.create({\r\n        message: \"Por Favor llena todos los datos\",\r\n        duration: 2000,\r\n        position: \"bottom\"\r\n      });\r\n      toast.present()\r\n    } \r\n}   \r\n    \r\n   \r\n \r\n  \r\n  \r\n \r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <app-navbar></app-navbar>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <div class=\\\"login\\\" style=\\\"position: absolute;width: 100%; height: auto;\\\">\\r\\n    <main>\\r\\n      <h2 class=\\\"login-header\\\">Registra Prestamo</h2>\\r\\n  \\r\\n    <form [formGroup]=\\\"borrowingForm\\\" class=\\\"formulario\\\" (ngSubmit)=\\\"Register()\\\">\\r\\n      <div class=\\\"formulario__grupo\\\">\\r\\n        <div class=\\\"formulario__grupo-input\\\">\\r\\n          <p><ion-input class=\\\"formulario__input\\\" type=\\\"text\\\" name=\\\"nombre\\\" placeholder=\\\"Nombre de guardia\\\" formControlName=\\\"nombre\\\"  required=\\\"\\\"> </ion-input> </p>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"formulario__grupo\\\">\\r\\n        <div class=\\\"formulario__grupo-input\\\">\\r\\n          <p><ion-input class=\\\"formulario__input\\\" type=\\\"number\\\" name=\\\"montoprestado\\\" placeholder=\\\"montoprestado\\\" formControlName=\\\"montoprestado\\\"  required=\\\"\\\"> </ion-input> </p>\\r\\n        </div>\\r\\n      </div> \\r\\n      <div class=\\\"formulario__grupo\\\">\\r\\n        <div class=\\\"formulario__grupo-input\\\">\\r\\n          <p><ion-input class=\\\"formulario__input\\\" type=\\\"date\\\" name=\\\"fechadeprestamo\\\"  formControlName=\\\"fechadeprestamo\\\"  required=\\\"\\\"> </ion-input> </p>\\r\\n        </div>\\r\\n      </div>\\r\\n  \\r\\n       <div class=\\\"formulario__grupo\\\">\\r\\n        <div class=\\\"formulario__grupo-input\\\">\\r\\n          <p><ion-input class=\\\"formulario__input\\\" type=\\\"number\\\" name=\\\"numerodepagos\\\" placeholder=\\\"ejemplo 3\\\" formControlName=\\\"numerodepagos\\\"  required=\\\"\\\"> </ion-input> </p>\\r\\n        </div>\\r\\n      </div>\\r\\n    \\r\\n   \\r\\n   \\r\\n     \\r\\n      <p><input class=\\\"btn my-2 my-sm-0 btn-lg button\\\" style=\\\"width: 100%; background-color: #000000; color: #FFFFFF;\\\" type=\\\"submit\\\" value=\\\"Registrar\\\"> </p>\\r\\n    </form>\\r\\n  </main>\\r\\n   \\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n  \";"],"names":[],"sourceRoot":"webpack:///"}